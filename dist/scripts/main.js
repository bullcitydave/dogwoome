function Dog(e,o){o=o||{},this.name=e,this.color=o.color,this.age=o.age,this.breeds=o.breeds||"mutt",this.colors=o.colors,this.weight=o.weight,this.barkVol=o.barkVol||"normal",this.lick=function(e){return e.licked=!0}}function Adopter(e,o){o=o||{},this.name=e,this.licked=!1,this.tolLick=5,this.prefAge=o.prefAge}function WooScore(e,o,a){this.dogname=e,this.adoptername=o,this.score=a}function win(e){alert(e[1]+" wants to adopt "+e[0]+"!"),resetGame()}function moveProgress(e){var o=parseInt($(".woobar").css("width")),a=parseInt($(".woobarprog").css("width")),t=a+o*(e/100)+"px";$(".woobarprog").css("width",t)}function resetGame(){$(".woobarprog").css("width",0),$(".main-game").css("opacity",.25),wa=cartesianProductOf(dogNames,adopterNames,Zeroes)}function cartesianProductOf(){return _.reduce(arguments,function(e,o){return _.flatten(_.map(e,function(e){return _.map(o,function(o){return e.concat([o])})}),!0)},[[]])}$("#main-game").css("opacity",.25);var moksha=new Dog("moksha",{color:["brown","white"],age:4}),bella=new Dog("bella",{color:["black"],age:9}),emmitt=new Dog("emmitt",{color:["yellow"],age:5}),herman=new Dog("herman",{color:["black","white"],age:6}),dave=new Adopter("dave",{tolLick:10}),emily=new Adopter("emily",{tolLick:2}),Adopters=[dave,emily],adopterNames=Adopters.map(function(e){return e.name}),Dogs=[moksha,bella,emmitt,herman],dogNames=Dogs.map(function(e){return e.name}),Zeroes=[0],wa=cartesianProductOf(dogNames,adopterNames,Zeroes);moksha.lick(dave),moksha.lick(emily),dave.licked&&console.log(dave.name+" was licked!"),emily.licked&&console.log(emily.name+" was licked!");var dogname="",dogposition=jQuery.inArray(dogname,dogNames),adoptername="emily",adopterposition=jQuery.inArray(adoptername,adopterNames);$(".dog-selection-entry").click(function(){dogname=$(this).children("button").html(),$("#select-player").hide(750),$("#main-game").css("opacity",1)}),$("#lick").click(function(){dogPos=$.inArray(dogname,dogNames),adopterPos=$.inArray(adoptername,adopterNames),$.each(wa,function(e,o){o[0]===dogname&&o[1]===adoptername&&(console.log(wa[e][2]),wa[e][2]+=5,moveProgress(5),$(".percent").html(wa[e][2]),wa[e][2]>=100&&win(wa[e]))})}),$("#main-game").css("opacity",.25);